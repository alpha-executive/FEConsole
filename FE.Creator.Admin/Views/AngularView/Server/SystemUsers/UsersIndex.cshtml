@using Microsoft.AspNetCore.Mvc.Localization
@inject IHtmlLocalizer<AppLang> AppLangResource
@{
    ViewBag.Title = AppLangResource["USERMGR_TITLE"];
}

<div ng-app="ngObjectRepository" class="box box-primary" ng-controller="UserController as ctrl">
    <div class="box-header with-border">
        <h3 class="box-title">@ViewBag.Title</h3>
    </div>
    <!-- /.box-header -->
    <div class="box-body">
        <div class="table-responsive">
            <table class="table no-margin">
                <thead>
                    <tr>
                        <th>@AppLangResource["USERMGR_COL_USERID"]</th>
                        <th>@AppLangResource["USERMGR_COL_USERNAME"]</th>
                        <th>@AppLangResource["USERMGR_COL_EMAIL"]</th>
                        <th>@AppLangResource["USERMGR_COL_STATUS"]</th>
                        <th>@AppLangResource["USERMGR_COL_ACTION"]</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="user in ctrl.users">
                        <td>{{user.id}}</td>
                        <td>{{user.userName}}</td>
                        <td>{{user.email}}</td>
                        <td>
                            <span class="label label-success">
                                @AppLangResource["USERMGR_LBL_ACTIVE"]</span></td>
                            <!--Permission satisfied-->
                    <td>
                        <button class="btn btn-primary btn-flat btn-xs" type="button" ng-click="ctrl.ResetPassword(user)"
                                ng-if="ctrl.AdminUser === '@Context.GetLoginUserEmail()'">
                            <i class="fa  fa-refresh"></i>
                            @AppLangResource["USERMGR_BTN_RESETPASS"]
                        </button>
                        <a class="btn btn-primary btn-flat btn-xs" href="/ngView/EditOrDisplay/SystemUsers/UserProfileIndex/{{user.id}}"
                           ng-if="user.email === '@Context.GetLoginUserEmail()'">
                            <i class="fa  fa-user"></i>
                            @AppLangResource["USERMGR_BTN_PROFILE"]
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <!-- /.table-responsive -->
</div>
<!-- /.box-body -->
<div class="box-footer clearfix">
</div>
<!-- /.box-footer -->
</div>